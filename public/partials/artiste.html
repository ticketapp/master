<div class="parallax-background" style="background: #ffffff!important;">
    <img class="width100p" src="{{ artiste.images[0].path }}"/>
</div>
<div class="parallax-content column" style="background: #ffffff">
    <div class="columns large-12">
        <h2 id="eventTitle">
            {{artiste.name}}
            <i ng-if="otherWebsite == true" class="float-right fi-plus" ng-click="$parent.showUrls = !$parent.showUrls" style="margin-left: 5px; cursor: pointer"></i>
            <ul class="absolute zIndex4 right" ng-if="showUrls" style="background: #ffffff; box-shadow: 0px 2px 5px 0 rgba(0, 0, 0, 0.26); padding-bottom: 10px; margin-bottom: 10px;">
                <li ng-repeat="website in artiste.websites" ng-if="website.name == 'website'" style="display: block; margin: 10px">
                    <a href="http://www.{{website.url}}" target="_blank">{{website.url}}</a>
                </li>
            </ul>
            <a ng-if="website.name != 'website'"
               ng-repeat="website in artiste.websites"
               href="http://www.{{website.url}}" target="_blank">
                <i ng-class="{'fi-social-facebook' : website.name == 'facebook',
                   'fi-social-twitter' : website.name == 'twitter',
                   'fi-soundcloud' : website.name == 'soundcloud',
                   'fi-mixcloud' : website.name == 'mixcloud'}"
                   class="float-right" style="margin-left: 5px;"></i>
            </a>
            <a href="http://www.facebook.com/{{artiste.facebookId}}" target="_blank">
                <i class="float-right fi-social-facebook" style="margin-left: 5px;"></i>
            </a>
        </h2>
    </div>
    <ul id="events_contener" ng-if="$root.window == 'large' || $root.window == 'xlarge' || $root.window == 'xxlarge'" style="text-align: justify;" class="descriptionContent column large-8 float-left margin0 large-block-grid-2">
        <li class="min_contener data-ng-event margin0" data-ng-repeat="event in artiste.events"></li>
    </ul>
    <div ng-if="artiste.description.length > 0" class="column large-4 float-left eventInfo" >
        <h3>{{artiste.name}}</h3>
        <div data-ng-bind-html="artiste.description"
             style="max-height : {{heightDesc}}; overflow: hidden"
             id="descContent">
        </div>
        <i ng-if="heightDesc == '147px' && allDesc == false" class="fi-plus pointer" ng-click="$parent.heightDesc = 'auto'; calcResize()"></i>
        <i ng-if="heightDesc == 'auto'" class="fi-minus pointer" ng-click="$parent.heightDesc = '147px'; calcResize()"></i>
    </div>
    <div class="column large-4 float-left eventInfo tracksContener" >
        <div class="column large-12">
            <h3 class="column large-6">Tracks</h3>
            <input class="column large-6 marginTop20" ng-if="tracks.length > 0 || trackTitle.length > 0" ng-model="$parent.trackTitle" ng-change="filterTracks()" placeholder="filter tracks"/>
            <div class="float-left column large-12">
                <a class="button" ng-if="tracksFiltered.length > 0" ng-click="$root.addAndPlay(artiste.tracks, artiste)"><i class="fi-play"></i> Play all</a>
                <a class="button" ng-if="tracksFiltered.length > 0 && $root.playlist.tracks.length > 0" ng-click="$root.addToPlaylist(artiste.tracks, artiste)"><i class="fi-plus"></i> Add all</a>
                <a class="button" ng-if="tracksFiltered.length > 0" ng-click="$parent.suggest = !$parent.suggest">Suggérer une track</a>
                <div ng-if="suggest">
                    <input ng-model="trackTitleSuggest" placeholder="track title">
                    <a class="button" ng-click="suggestQuery(trackTitleSuggest, artiste.name)">Valider</a>
                </div>
            </div>
        </div>
        <div layout="row" layout-sm="column" layout-align="space-around" class="column" ng-if="$root.loadingTracks">
            <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>
        <div ng-if="artiste.tracks.length == 0 && trackTitle.length == 0 && !$root.loadingTracks" class="column large-12 text-center">
            <b>Désolé, nous n'avons pour le moment aucune track pour cet artist.
                <br/>Vous pouvez ici suggerer une track à ajouter</b><br/>
            <input placeholder="track title" ng-model="trackTitleSuggest">
            <a class="button" ng-click="suggestQuery(trackTitleSuggest, artiste.name)">Valider</a>
        </div>
        <div ng-if="tracksFiltered.length == 0 && trackTitle.length > 0" class="column large-12 text-center">
            <b>Désolé, nous n'avons pour le moment aucune track "{{trackTitle}}" pour cet artist.</b><br/>
            <a class="button" ng-click="suggestQuery(trackTitle, artiste.name)">Suggérer la track {{trackTitle}}</a>
        </div>
        <div ng-repeat="track in tracksFiltered = (artiste.tracks | limitTo: trackLimit)" class="column paddingBottom10" ng-class="{'large-12': bigTracks == true, 'large-6': bigTracks == false}">
            <div class="column large-12 arTrack">
                <div ng-if="track.thumbnailUrl != undefined" class="img-circularPlayer" style="background-image: url('{{track.thumbnailUrl}}');">
                    <i class="fi-play playInImg" ng-click="$root.addToPlaylist([track], artiste)"></i>
                </div>
                <div class="column small-8">{{track.title}}</div>
                <div>
                    <i class="fi-plus float-right" style="font-size: 26px;" ng-click="$root.addToPlaylist([track], artiste)"></i>
                    <i class="fi-play-circle float-right" style="font-size: 26px;" ng-click="$root.addAndPlay([track], artiste)"></i>
                </div>
                <a target="_blank" href="{{track.redirectUrl}}" class="column small-7" style="font-size: 27px;" ng-if="track.platform == 'Soundcloud'">
                    <i style="display: block" class="fi-soundcloud"></i>
                </a>
                <a href="https://youtube.com/watch?v={{track.url}}"
                   class="column small-7"
                   style="font-size: 27px;"
                   ng-if="track.platform == 'Youtube'"
                   target="_blank">
                    <i style="display: block" class="fi-social-youtube"></i>
                </a>
            </div>
        </div>
        <div class="column large-12">
            <button ng-if="trackLimit < artiste.tracks.length" ng-click="$parent.trackLimit = $parent.trackLimit + 10">More tracks</button>
            <button ng-if="trackLimit > 10 && trackTitle.length <= 1" ng-click="$parent.trackLimit = 10">Less tracks</button>
        </div>
    </div>
    <ul id="events_contener" ng-if="$root.window == 'small' || $root.window == 'medium'" style="text-align: justify;" class="descriptionContent column large-8 float-left margin0 small-block-grid-1 medium-block-grid-2 large-block-grid-4">
        <li class="min_contener data-ng-event margin0" data-ng-repeat="event in orgaEvents"></li>
    </ul>
</div>


